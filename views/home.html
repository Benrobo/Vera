<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HEALTH TOOLS</title>
    <link rel="stylesheet" href="./statics/css/bootstrap.css">
    <link rel="stylesheet" href="./statics/css/home.css">
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
</head>
<body>
    
    <div class="header">
        <div class="ovl">
            <!-- navbar -->
            <nav class="navbar">
                <h2><b><span class="deco">VERA</span></b></h2>
            </nav>

            <div class="txt-cont">
                <h1>PERSONAL <span class="deco" id="head"></span> CARE TOOLS</h1>
                <br>
                <p id="head-txt">Lorem, ipsum dolor sit amet consectetur adipisicing elit. Velit temporibus laboriosam dolore quae deleniti praesentium.</p>
                <br>
                <button class="btn start">
                    Get Started
                </button>
            </div>
        </div>
    </div>

    <!-- section -->
    <section class="section">
        <div class="main-cont">
            <div class="services">
                <div class="head">
                    <h3>Manage Your Health Anywere with PHT</h3>
                    <p>Our health application tends to provide multipurpose tools which can be used in the health factor, ranging from BMI Calculator, Disease Tracker, Disease Dictionary, Healthy Food Recipes, Top Health News.....etc</p>
                </div>
                <br>
                <div class="box-cont">
                    <div class="boxes">
                        <div class="box" data-aos="zoom-in">
                            <span class="icon">
                                <ion-icon name="calculator"></ion-icon>
                            </span>
                            <br>
                            <h2>BMI Calculator</h2>
                        </div>
                        <div class="box" data-aos="zoom-in">
                            <span class="icon">
                                <ion-icon name="medical"></ion-icon>
                            </span>
                            <br>
                            <h2>Coronavirus Tracker</h2>
                        </div>
                        <div class="box" data-aos="fade-up-right">
                            <span class="icon">
                                <ion-icon name="book"></ion-icon>
                            </span>
                            <br>
                            <h2>Disease Dictionary</h2>
                        </div>
                        <div class="box" data-aos="fade-up-right">
                            <span class="icon">
                                <ion-icon name="fast-food"></ion-icon>
                            </span>
                            <br>
                            <h2>Healthy Meal Planner</h2>
                        </div>
                        <div class="box" data-aos="zoom-in-down">
                            <span class="icon">
                                <ion-icon name="musical-notes"></ion-icon>
                            </span>
                            <br>
                            <h2>Meditation</h2>
                        </div>
                        <div class="box" data-aos="zoom-in-down">
                            <span class="icon">
                                <ion-icon name="heart"></ion-icon>
                            </span>
                            <br>
                            <h2>Heart Rate Test</h2>
                        </div>
                        <div class="box" data-aos="zoom-in-down">
                            <span class="icon">
                                <ion-icon name="newspaper"></ion-icon>
                            </span>
                            <br>
                            <h2>Health News</h2>
                        </div>
                        <div class="box" data-aos="zoom-in-down">
                            <span class="icon">
                                <ion-icon name="list-circle"></ion-icon>
                            </span>
                            <br>
                            <h2>Food Recipes</h2>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>


    <!-- covid 19 modal -->
    <div class="captcha-modal">
        <div class="captcha-form">
            <div class="attention-cont">
                <button class="btn">
                    <span class="icon"><ion-icon name="alert-circle"></ion-icon></span>
                    ATTENTION
                </button>
            </div>
            <br>
            <div class="img-cont">
                <img src="./assets/img/section/a.png" alt="" class="img-a mask-img">
            </div>
            <br>
            <div class="alrt-cont">
                <h1>No Face Mask</h1>
                <h1>No Entry</h1>
            </div>
            <br>
            <div class="action">
                <button class="wearbtn wear">Wear Mask</button>
            </div>
        </div>
    </div>

   

    <script src="./assets/js/app.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/typeit@7.0.4/dist/typeit.min.js"></script>
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>
    <script>
        


        let startbtn = document.querySelector(".start")
        let captchaModal = document.querySelector(".captcha-modal");
        let capForm = document.querySelector(".captcha-form");
        let wearbtn = document.querySelector('.wearbtn');
        let maskimg = document.querySelector(".mask-img");
        let alrtcont = document.querySelector(".alrt-cont");

        startbtn.onclick = ()=>{
            captchaModal.style.display = "flex"
            
            setTimeout(() => {
                capForm.classList.add("anime")
            }, 300);
        }

        function toggleFacemask(){
            wearbtn.onclick = ()=>{
                wearbtn.innerHTML = "!Hold on ,Wearing Facemask"

                setTimeout(() => {
                    maskimg.src = "./assets/img/section/b.png"

                }, 1000);

                setTimeout(() => {
                    alrtcont.innerHTML = `
                        <h1>Mask Warn.<h1>
                    `
                    

                    wearbtn.innerHTML = ""
                    wearbtn.innerHTML = "Dashboard"

                    redirectUser()
                }, 1500);
            }
        }

        toggleFacemask()

        function redirectUser(){
            if(wearbtn.innerHTML.toLowerCase() == "dashboard"){
                wearbtn.onclick = async ()=>{
                    // ask the user for username;
                    let username = prompt("Username needed");
                    
                    if(username == ""){
                        alert("Please username is required");
                        username = prompt("Username needed");
                    }
                    else if(username.length > 10 || username.length < 0){
                        alert("username length should be 10");
                        username = prompt("Username needed");
                    }
                    else{
                        const sendData = {
                            username: username,
                            created_at: new Date().getTime()
                        }
                        let req = await fetch("/auth/user", {
                            method: "POST",
                            headers: {
                                "Content-Type": "application/json"
                            },
                            body: JSON.stringify(sendData)
                        })

                        let res = await req.json();
                        console.log(res)

                        if(res && res.status == 200){
                            window.location = "/dashboard"
                            return;
                        }
                        else{
                            alert("Something went wrong")
                            console.log(document.cookie)
                        }
                    }
                    return;
                    window.location = "dashboard.html"
                }
            }
            
        }

        function typeFunc(){
            new TypeIt("#head-txt", {
                strings: "This is my string!",
                speed: 75,
                loop: true
            }).go();

            new TypeIt("#head", {
                speed: 100,
                waitUntilVisible: true
            })
            .type("HEALTH", {delay: 300})
            .delete(6)
            .type("FITNESS")
            .delete(7)
            .type("HEART RATE")
            .go();
        }
        typeFunc()

        AOS.init({
            delay: 1,
            duration: 3000
        });
    </script>
</body>
</html>